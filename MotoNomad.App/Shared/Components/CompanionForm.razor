@namespace MotoNomad.App.Shared.Components

<MudForm @ref="form" @bind-IsValid="formValid">
    <MudTextField 
        @bind-Value="model.FirstName"
        Label="First name"
        Required="true"
        MaxLength="100"
        Counter="100"
        HelperText="Max 100 characters"
        Disabled="@IsLoading"
        Class="mb-3" />
    
    <MudTextField 
        @bind-Value="model.LastName"
        Label="Last name"
        Required="true"
        MaxLength="100"
        Counter="100"
        HelperText="Max 100 characters"
        Disabled="@IsLoading"
        Class="mb-3" />
    
    <MudTextField 
        @bind-Value="model.Contact"
        Label="Contact (optional)"
        MaxLength="255"
        Counter="255"
        HelperText="Email or phone number"
        Disabled="@IsLoading"
        Class="mb-3" />
    
    <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 1rem;">
        <MudButton 
            Variant="Variant.Text"
            Color="Color.Default"
            OnClick="@(() => OnCancel.InvokeAsync())"
            Disabled="@IsLoading">
            Cancel
        </MudButton>
        
        <MudButton 
            Variant="Variant.Filled" 
            Color="Color.Primary"
            OnClick="HandleSubmit"
            Disabled="@(!formValid || IsLoading)">
            @if (IsLoading)
            {
                <MudProgressCircular Size="Size.Small" Indeterminate="true" />
            }
            else
            {
                <text>Save</text>
            }
        </MudButton>
    </div>
</MudForm>
