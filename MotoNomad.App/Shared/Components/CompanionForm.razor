@namespace MotoNomad.App.Shared.Components

<MudForm @ref="form" @bind-IsValid="formValid">
    <MudTextField 
        Value="model.FirstName"
        ValueChanged="@((string value) => OnFirstNameChanged(value))"
      Label="First name"
      Required="true"
        Validation="@ValidateFirstName"
        Counter="100"
        HelperText="Max 100 characters"
        Disabled="@IsLoading"
        Class="mb-3" />
    
    <MudTextField 
      Value="model.LastName"
    ValueChanged="@((string value) => OnLastNameChanged(value))"
     Label="Last name"
        Required="true"
        Validation="@ValidateLastName"
   Counter="100"
        HelperText="Max 100 characters"
        Disabled="@IsLoading"
        Class="mb-3" />
    
<MudTextField 
        Value="model.Contact"
ValueChanged="@((string? value) => OnContactChanged(value))"
  Label="Contact (optional)"
 Validation="@ValidateContact"
        Counter="255"
        HelperText="Email or phone number"
        Disabled="@IsLoading"
        Class="mb-3" />
    
    <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 1rem;">
        <MudButton 
         Variant="Variant.Text"
        Style="color: #a8b9af; font-weight: 600;"
  OnClick="@(() => OnCancel.InvokeAsync())"
       Disabled="@IsLoading">
        Cancel
        </MudButton>
        
        <MudButton 
            Variant="Variant.Filled" 
            Color="Color.Primary"
            Style="color: #ffffff; font-weight: 600;"
    OnClick="HandleSubmit"
            Disabled="@(!formValid || IsLoading)">
     @if (IsLoading)
    {
 <MudProgressCircular Size="Size.Small" Indeterminate="true" />
      }
            else
            {
       <text>Save</text>
       }
   </MudButton>
    </div>
</MudForm>
